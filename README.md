# 🤖 TDK Cup 23rd: Autonomous Ball-Sorting & Shooting Robot

## 📖 專案概述 (Project Overview)

本專案旨在開發一款全自主機器人，以應對第 23 屆 TDK 盃自動組的高複雜度賽制。該機器人需在無人為遙控的情況下，於限制時間內完成環境感知、路徑規劃、物體識別、顏色分選及精準投射任務。

## 第 23 屆 TDK 盃機器人競賽規則文件（自動組）

### 1. 基本場地與配置

*   **場地配置**：兩隊（黃隊、橘隊）分別在對稱的場地進行比賽。
*   **球數配置**：全場共 136 顆球。
*   **球種**：包含紅、綠、藍、黑等顏色的普通球，以及特定的加分球（黃球、橘球）。

### 2. 賽前設定策略 (Pre-game Setup)

比賽開始前有兩個重要的互動設定環節，影響後續的計分策略：

1.  **指定對手球色 (Draw & Assign)**：
    *   兩隊各派一員以抽籤方式決定。
    *   需設定 「對手」 投入球框時，哪種顏色的球算 2分，哪種算 1分。
    *   *策略意涵*：您可以決定對手好拿的球分數低，或難辨識的球分數高。

2.  **設定對手球籃位置 (Set Basket Position)**：
    *   參賽隊伍指派一名隊員至 「對手球籃區域」。
    *   手動滑動設定對手的球籃位置。
    *   *策略意涵*：增加對手機器人定位與投籃的難度。

### 3. 比賽任務與計分詳情

比賽開始後，機器人需依序或平行執行以下任務：

#### A. 視覺辨識任務 (Vision & Flag Task)

*   **機制**：機器人需移動至辨識看板前，看板上有上下兩種顏色的色紙。
    *   上方色紙代表：2分。
    *   下方色紙代表：1分。
*   **動作**：機器人需舉起對應顏色的旗幟。
*   **得分**：成功舉對旗幟，得 10分。

#### B. 投籃得分機制 (Shooting)

機器人收集地上的散球後，可選擇投入不同類型的球籃，分數計算如下：

| 球籃類型 | 投入球種 | 得分計算 | 備註 |
| :--- | :--- | :--- | :--- |
| **隊伍籃 (一般籃)** | 指定之 2分色球 | +2 分 | 顏色由賽前抽籤決定 |
| | 指定之 1分色球 | +1 分 | 顏色由賽前抽籤決定 |
| | 非指定色球 | -1 分 (倒扣) | 辨識錯誤會有懲罰 |
| **3倍分球籃 (高分區)** | 指定之 2分色球 | +6 分 (2x3) | 精準投籃獎勵 |
| | 指定之 1分色球 | +3 分 (1x3) | |
| | 非指定色球 | 0 分 | 不計分也不倒扣 |
| **加分球籃 (中央區)** | 黃球 / 橘球 | +10 分 | 僅限特定顏色的加分球 |
| | 其他顏色 | 0 分 | 黃球歸黃隊分，橘球歸橘隊分 |

#### C. 懲罰機制

*   **隊伍籃 (一般籃)**：若投入非指定顏色的球（例如設定紅球得分，卻投入藍球），每顆 **倒扣 1 分**。
*   **3倍籃與加分籃**：投入錯誤球種不予計分（0分），但不倒扣。

### 4. 特殊規則

*   **重置申請 (Reset)**
    *   **條件**：若因球卡住本體、機器人故障或其他原因無法運作。
    *   **操作**：可向裁判申請重置（雖然影片未詳述扣分細節，但通常重置會影響「一氣呵成」獎勵）。

*   **一氣呵成獎勵 (Perfect Game Bonus)**
    這是獲取高分的關鍵倍率獎勵。需同時滿足以下三個條件：
    1.  **未申請重置**：全程無人為介入重置。
    2.  **顏色辨識正確**：視覺辨識任務（舉旗）成功。
    3.  **3倍籃得分**：至少將一顆「正確顏色」的球投入「3倍分球籃」。
    *   **獎勵計算**：滿足上述條件者，總分以 **1.5 倍** 計算。

### 總結獲勝關鍵

1.  **視覺辨識**：必須正確，否則拿不到 10 分且失去 1.5 倍獎勵。
2.  **顏色篩選**：機器人吸球機構必須具備強大的顏色分選能力，避免將錯誤顏色的球投入一般籃導致扣分。
3.  **精準定位**：由於對手會移動你的球籃位置，機器人需具備動態尋找球籃的能力。
4.  **挑戰 3 倍籃**：為了觸發「一氣呵成」獎勵，務必設計能投射至高處 3 倍籃的機構。
